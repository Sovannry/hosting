<div class="container mt-4">
  <div class="row justify-content-center"> <!-- ✅ Center row -->
    <div class="col-lg-8 col-md-10"> <!-- ✅ Centered narrower column -->
      <div class="card shadow-lg border-0 rounded-3">
        <div class="card-header bg-primary text-white text-center"> <!-- ✅ Centered header text -->
          <h5 class="mb-0"> Cart List</h5>
        </div>

        <!-- Cart Items Container -->
        <div class="table-responsive">
          <div class="container-fluid py-3" id="cart-items">

            @if (cartService.getCartItem().length == 0){
            <div class="text-center py-4">
              <h4 class="text-muted">Your cart is empty</h4>
              <a [routerLink]="'/'" class="btn btn-outline-success mt-2">Continue Shopping</a>
            </div>
            }

            @for (item of cartService.getCartItem(); track item.id) {
            <div class="row align-items-center py-3 border-bottom cart-item text-center">
              <div class="col-1">
                <input type="checkbox" class="form-check-input" [checked]="item.is_select"
                  (change)="cartService.selectCartItem(item)">
              </div>
              <div class="col-2">
                <img class="cart-img img-fluid" [src]="item.image" style="height:60px; object-fit:contain;">
              </div>
              <div class="col-2">
                <h6 class="fw-semibold">{{item.title}}</h6>
                <small class="text-muted">{{item.category}}</small>
              </div>
              <div class="col-2">
                <button class="btn btn-sm btn-outline-danger" (click)="cartService.decrementQty(item)">-</button>
                <span class="mx-2 fw-bold">{{item.qty}}</span>
                <button class="btn btn-sm btn-outline-primary" (click)="cartService.incrementQty(item)">+</button>
              </div>
              <div class="col-2">
                <span>{{item.price | currency}}</span>
              </div>
              <div class="col-2">
                <strong>{{item.price * item.qty | currency}}</strong>
                <button class="btn btn-sm btn-danger ms-2" (click)="cartService.removeCartItem(item)">Remove</button>
              </div>
            </div>
            }
          </div>
        </div>

        @if (cartService.getCartItem().length > 0){
        <div class="card-footer">
          <div class="row align-items-center text-center">
            <!-- Checkout Button (Center) -->
            <div class="col-12 col-md-6 d-flex justify-content-center mb-2 mb-md-0">
              <button class="btn btn-primary px-4" data-bs-toggle="modal" data-bs-target="#checkoutModal">
                Checkout
              </button>
            </div>

            <!-- Total (Right Side) -->
            <div class="col-12 col-md-6 d-flex justify-content-md-end justify-content-center">
              <h5 class="mb-0">
                <strong>Total:</strong>
                <span class="text-primary fw-bold">{{ cartService.getCartTotal() | currency }}</span>
              </h5>
            </div>
          </div>
        </div>
        }


      </div>
    </div>
  </div>
</div>